import { useState } from 'react';
import { Meta, Story, Canvas, Title, Subtitle, ArgsTable } from '@storybook/addon-docs/blocks';
import { DEFAULT_SWITCH_SIZE, SWITCH_SIZES } from './Switch.constants';
import { Utils } from '../../shared';
import { DEFAULT_ARGUMENT_STABLE_EXCLUSION } from '../../shared/constants';

import Switch from './index';

<Meta component={Switch} title="Components/Switch" />

<Title>Switches</Title>

<Subtitle>
    Switches are used most frequently in settings, where you are likely to be turning options on or
    off.
</Subtitle>

## Anatomy

Switches are comprised of:

-   Selector
-   Label
    Clicking either the Selector or the Label should toggle the state of the switch.

## States

When Off, the toggle handle is positioned to the left side and the background track is grey. When On, the toggle handle animates to the right side and the track turns from grey to blue.

## Sizes

There are three different sizes for switches: Small, Medium, and Large. The size of the text label determines the size of the switch that you should use. The small switch correlates with a label that has 12pt font, medium with 14pt font, and large with 16pt font.

## Animation

## Dependencies

<ArgsTable of={Switch} exclude={[...DEFAULT_ARGUMENT_STABLE_EXCLUSION]} />

export const defaultArgs = {
    label: 'Public',
    size: DEFAULT_SWITCH_SIZE,
};

export const canvasExampleArgs = {
    ...defaultArgs,
};

export const ToggledSwitch = (args) => {
    const [isToggled, setToggled] = useState(true);
    return <Switch {...args} onClick={() => setToggled(!isToggled)} toggled={isToggled} />;
};

<Canvas hidden>
    <Story
        name="Default"
        argTypes={Utils.hideStyledComponentProperties({
            label: {
                control: {
                    type: 'text',
                },
            },
            size: {
                control: {
                    type: 'select',
                    options: SWITCH_SIZES,
                },
            },
            disabled: {
                control: {
                    type: 'radio',
                    options: ['true', 'false'],
                },
            },
            width: { table: { disable: true } },
            height: { table: { disable: true } },
            innerWidth: { table: { disable: true } },
            className: { table: { disable: true } },
            onClick: { action: 'clicked' },
        })}
        args={{
            ...canvasExampleArgs,
        }}
    >
        {(args) => <ToggledSwitch {...args} />}
    </Story>
</Canvas>
